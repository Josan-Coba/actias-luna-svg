<svg viewBox="0 0 1000 1000"
     height="1000" width="1000"
     xmlns="http://www.w3.org/2000/svg">
  <defs>
    <g id="guidelines">
      <path d="M0,0h1000v1000H0V0z M80,80v840h840V80H80" fill="currentColor" fill-opacity="0.2" />
      <circle cx="500" cy="500" r="420" fill="none" stroke="currentColor" stroke-width="1" stroke-opacity=".4" />
      <circle cx="500" cy="500" r="500" fill="none" stroke="currentColor" stroke-width="1" stroke-opacity=".4" />
      <rect x="125" y="125" width="750" height="750" rx="80" fill="none" stroke="currentColor" stroke-width="1" stroke-opacity=".6"/>
      <line x1="0" y1="0" x2="1000" y2="1000" stroke="currentColor" stroke-width="1" stroke-opacity=".3" />
      <line x1="1000" y1="0" x2="0" y2="1000" stroke="currentColor" stroke-width="1" stroke-opacity=".3" />
      <line x1="500" y1="0" x2="500" y2="1000" stroke="currentColor" stroke-width="1" stroke-opacity=".3" />
      <line x1="0" y1="500" x2="1000" y2="500" stroke="currentColor" stroke-width="1" stroke-opacity=".3" />
    </g>
    <linearGradient id="dark-bg-color">
      <stop stop-color="#050922" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="light-bg-color">
      <stop stop-color="#e8e8f8" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="night-sky-color">
      <stop stop-color="#050922" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="moon-color">
      <stop stop-color="#dce1e2" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="body-color">
      <stop stop-color="ghostwhite" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="body-fur-color">
      <stop stop-color="#fde141" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="body-shadow-color">
      <stop stop-color="#fffff8" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="wing-fill-color">
      <stop offset="0%" stop-color="aqua" stop-opacity=".8" />
      <stop offset="0%" stop-color="aquamarine" stop-opacity=".8" />
      <stop offset="0%" stop-color="limegreen" stop-opacity=".7" />
      <stop offset="0%" stop-color="#32cd78" stop-opacity=".7" />
      <stop offset="0%" stop-color="#6ad57c" stop-opacity=".85" />
    </linearGradient>
    <linearGradient id="wing-rim-color">
      <stop stop-color="#630453" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="antenna-shaft-color">
      <stop stop-color="gold" stop-opacity="1" />
    </linearGradient>
    <linearGradient id="antenna-vane-color">
      <stop stop-color="gold" stop-opacity=".4" />
    </linearGradient>
    <linearGradient id="antenna-stroke-color">
      <stop offset="0" stop-color="#504804" stop-opacity=".2" />
    </linearGradient>
    <path id="body-shape"
          d="M460,280C470,240,530,240,540,280S540,452,500,452S450,320,460,280Z" />
    <clipPath id="body-shape-clip">
      <use href="#body-shape" />
    </clipPath>
    <path id="hindwing-shape"
          d="M530,280
             C560,270,570,260,620,300
             S740,430,750,450
             S758,466,750,480
             S745,490,740,500
             S660,550,600,540
             S540,590,540,620
             S550,670,550,700
             C550,740,570,760,570,780
             C510,740,500,740,510,670
             S505,500,505,420
             C505,340,530,280,530,280
             Z" />
    <clipPath id="hindwing-shape-clip">
      <use href="#hindwing-shape" />
    </clipPath>
    <path id="forewing-shape"
          d="M530,280
             C700,190,840,200,900,230
             S860,330,830,370
             S760,470,680,430
             S550,370,520,310
             Z" />
    <clipPath id="forewings-and-body-clip">
      <use href="#forewing-shape" />
      <use href="#body-shape" />
      <use href="#forewing-shape" transform="scale(-1,1) translate(-1000,0)" />
    </clipPath>
    <path id="upper-rim-shape"
          d="M500,262
             C513,262,513,267,530,260
             C700,190,840,200,900,230
             C770,200,636,244,650,250
             S670,274,670,286
             S664,310,656,310
             S644,302,642,298
             S632,276,650,270
             S630,240,550,290
             C534,300,520,292,500,292
             C480,292,466,300,450,290
             C370,240,332,264,350,270
             S360,294,358,298
             S352,310,344,310
             S330,298,330,286
             S336,256,350,250
             S230,200,100,230
             C160,200,300,190,470,260
             C487,267,487,262,500,262
             Z" />
    <path id="forewing-brow-shape"
          d="M550,290
             C534,300,520,292,500,292
             S466,300,450,290
             L470,260
             C487,267,487,262,500,262
             S513,267,530,260
             Z" />
    <filter id="moon-blur" x="-50%" width="200%" y="-40%" height="180%" filterUnits="userSpaceOnUse">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3" />
    </filter>
    <filter id="soft-blur" x="-50%" width="200%" y="-40%" height="180%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="8" />
      <feMerge>
        <feMergeNode />
        <feMergeNode />
        <feMergeNode />
      </feMerge>
    </filter>
    <filter id="strong-blur" y="-50%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3" />
      <feMerge>
        <feMergeNode />
      </feMerge>
    </filter>
    <filter id="hindwing-rim-blur">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="strong-blur" />
      <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="weak-blur" />
      <feFlood flood-color="#eedd7c" />
      <feComposite in2="weak-blur" operator="in" />
      <feMerge result="blurred-rim">
        <feMergeNode />
        <feMergeNode />
        <feMergeNode />
        <feMergeNode in="strong-blur" />
        <feMergeNode in="strong-blur" />
        <feMergeNode in="strong-blur" />
      </feMerge>
      <feImage href="#hindwing-shape" x="0" y="0" width="100%" height="100%" />
      <feComposite in="blurred-rim" operator="in" />
      <feComposite in="SourceGraphic" />
    </filter>
    <filter id="forewing-side-rim-blur">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="strong-blur" />
      <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="weak-blur" />
      <feFlood flood-color="#eedd7c" />
      <feComposite in2="weak-blur" operator="in" />
      <feMerge result="blurred-rim">
        <feMergeNode />
        <feMergeNode />
        <feMergeNode />
        <feMergeNode in="strong-blur" />
        <feMergeNode in="strong-blur" />
        <feMergeNode in="strong-blur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <filter id="forewing-upper-rim-blur">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" />
      <feMerge result="blurred-rim">
        <feMergeNode />
        <feMergeNode />
        <feMergeNode />
      </feMerge>
    </filter>
  </defs>
  <!-- <path d="M0 0h1000v1000H0V0z" fill="none" /> -->
  <!-- <path d="M0,0v1000h1000z"
        fill="url(#dark-bg-color)" />
  <path d="M1000,1000v-1000h-1000z"
        fill="url(#light-bg-color)" /> -->
  <path d="M0,0v1000h1000V0z"
        fill="url(#night-sky-color)" />
  <!-- GUIDELINES -->
  <!-- <use href="#guidelines" color="RED" /> -->
  <g id="moon"
     transform="rotate(-25, 500, 500)"
     filter="url(#moon-blur)">
    <!-- <circle cx="500" cy="500" r="450" fill="ghostwhite" /> -->
    <path d="M-500,-500V1500H1500V0Z"
        fill="url(#night-sky-color)" />
    <path d="M500 950A450 450 0 1 1 500 50" fill="url(#moon-color)" />
    <circle cx="500" cy="500" r="450" style="transform-origin: 50% 50%; transform: rotateY(45deg)" fill="url(#night-sky-color)" />
    <!-- <path d="M500 50A450 450 0 1 1 500 950" fill="url(#moon-color)" /> -->
    <!--
      Primero se muestra un semicírculo y vamos girando el círculo animado, que tendrá color
      nocturno, hasta los 90 grados en ese momento cambiamos el color del círculo animado para
      que se fusione con la luna y siga creciendo. Llegados a los 180º (luna llena) detrás del
      círculo animado ocultamos el primer semicírculo blanco y mostramos el segundo, y seguimos
      animando, de esta forma la luna irá menguando. Al llegar a los 270ª volvemos a cambiar
      el color del círculo animado a negro y continuamos hasta los 360ª/0ª (luna nueva). Repetir.
      Los bordes de la luna son un poco too-sharp, sería interesante buscar un filtro que los suavice.
      Nota 2: Quizá puedo clipear la luna en vez de ocultarla
     -->
  </g>
  <g id="moth"
     transform="rotate(-45,500,500) translate(0,80)"
     
     style="isolation: isolate">
    <g id="antennas">
      <g id="left-antenna">
        <path d="M498,270c6,-80,-10,-86,-60,-80c35,15,28,20,42,30s14,20,18,50z"
              fill="url(#antenna-vane-color)" />
        <path d="M500,270q0,-80,-60,-80c20,4,60,6,56,80z"
              stroke="url(#antenna-stroke-color)"
              stroke-width="1"
              fill="url(#antenna-shaft-color)" />
      </g>
      <g id="right-antenna">
        <path d="M502,270c-6,-60,9,-59,16,-66q14,-12,14,-26c8,10,10,32,-11,54s-14,22,-19,38z"
              fill="url(#antenna-vane-color)" />
        <path d="M500,270c5,-35,7,-40,20,-57s12,-28,12,-35c3,8,0,22,-10,36s-16,20,-18,56z"
              stroke="url(#antenna-stroke-color)"
              stroke-width="1"
              fill="url(#antenna-shaft-color)" />
      </g>
    </g>
    <g id="body">
      <use href="#body-shape" fill="url(#body-color)" fill-opacity="1" />
      <path d="M470,260
              C487,267,487,262,500,262
              S513,267,530,260
              C520,280,510,290,520,330
              C500,272,500,272,480,330
              C490,290,480,280,470,260
              Z"
            fill="url(#body-fur-color)"
            filter="url(#soft-blur)"
            clip-path="url(#body-shape-clip)" />
      <!-- <path d="M500,456
             C450,456,490,364,490,404
             S510,454,510,404
             S540,456,500,456
             Z"
          fill="url(#body-shadow-color)"
          filter="url(#soft-blur)"/> -->
      
    </g>
    <g id="right-hindwing" transform="rotate(-0,530,280)">
      <path id="windwing-tail"
            d="M550,700
               C550,730,530,740,520,760
               S510,800,530,810
               S570,800,570,780
               S550,740,550,700
               Z"
            fill="url(#wing-fill-color)"
            stroke=""
            stroke-width="3"
            stroke-opacity=".4"
            stroke-dasharray="0 56 129 80" />
      <use href="#hindwing-shape"
           fill="url(#wing-fill-color)"
           stroke=""
           stroke-width="3"
           stroke-opacity=".4"
           stroke-dasharray="352 350 85 54 500" />
      <path d="M740,500
               C735,510,660,550,600,540
               S540,590,540,620
               S550,670,550,700
               C540,650,534,620,536,590
               S550,528,600,534
               S676,534,740,500
               Z"
            fill="url(#wing-rim-color)"
            filter="url(#hindwing-rim-blur)" />
    </g>
    <g id="left-hindwing">
      <use href="#right-hindwing" transform="scale(-1,1) translate(-1000,0)" />
    </g>
    <g id="right-forewing">
      <use href="#forewing-shape"
           fill="url(#wing-fill-color)"
           stroke=""
           stroke-opacity=".4"
           stroke-width="3"
           stroke-dasharray="1 386 76 176 310 1" />
      <path d="M900,294
               C890,314,845,350,830,370
               S810,402,780,426
               C810,390,830,350,900,294
               Z"
            fill="url(#wing-rim-color)"
            filter="url(#forewing-side-rim-blur)"
            clip-path="url(#forewings-and-body-clip)" />
    </g>
    <g id="left-forewing">
      <use href="#right-forewing" transform="scale(-1,1) translate(-1000,0)" />
    </g>
    <g id="upper-rim">
      <use href="#upper-rim-shape"
           fill="url(#wing-rim-color)"
           filter="url(#forewing-upper-rim-blur)"
           clip-path="url(#forewings-and-body-clip)" />
      <use href="#upper-rim-shape"
           fill="url(#wing-rim-color)" />
    </g>
  </g>
</svg>
